.gacha-overlay {
  position: fixed;
  inset: 0;
  z-index: 20;
  background: radial-gradient(circle at 50% 50%, rgba(24, 211, 197, 0.15), rgba(4, 11, 20, 0.96));
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: clamp(12px, 3vw, 28px);
  overflow: hidden;
  isolation: isolate;
  animation: huePulse 8s ease-in-out infinite alternate, grainPulse 1.4s steps(2, end) infinite alternate;
  background-blend-mode: screen, overlay, normal;
  filter: saturate(1.18);
  box-shadow: inset 0 0 40px rgba(255, 255, 255, 0.04);
}

.gacha-overlay::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(circle, rgba(255, 255, 255, 0.06) 1px, transparent 1px),
    radial-gradient(circle, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    radial-gradient(circle, rgba(255, 255, 255, 0.08) 1.2px, transparent 1.2px);
  background-size: 180px 180px, 120px 120px, 90px 90px;
  background-position: 0 0, 40px 20px, -30px -10px;
  opacity: 0.32;
  mix-blend-mode: screen;
  animation: starParallax 22s linear infinite, microJitter 6s ease-in-out infinite;
  z-index: 0;
}

.gacha-overlay::before {
  content: '';
  position: absolute;
  inset: -20%;
  background:
    repeating-linear-gradient(90deg, rgba(255,255,255,0.05) 0 1px, transparent 1px 4px),
    repeating-radial-gradient(circle at center, rgba(255,255,255,0.04), transparent 18%);
  mix-blend-mode: overlay;
  opacity: 0.12;
  animation: scanLines 3.6s linear infinite;
  z-index: 0;
}

.gacha-overlay::backdrop {
  backdrop-filter: blur(10px) brightness(0.92);
}

.gacha-overlay.theme-victor-ssj3 {
  background:
    radial-gradient(circle at 45% 20%, rgba(255, 230, 120, 0.22), transparent 60%),
    radial-gradient(circle at 70% 60%, rgba(255, 190, 90, 0.18), transparent 60%),
    repeating-linear-gradient(125deg, rgba(255, 255, 255, 0.12) 0 6%, transparent 6% 14%),
    linear-gradient(180deg, rgba(24, 18, 6, 0.9), rgba(6, 4, 8, 0.96));
  animation: bgLightning 3s infinite;
}
.gacha-overlay.theme-victor-ssj3::before {
  content: '';
  position: absolute;
  inset: -20% -10%;
  background:
    repeating-linear-gradient(112deg, transparent 0 12%, rgba(255,255,255,0.18) 12% 14%),
    repeating-linear-gradient(137deg, transparent 0 10%, rgba(255,220,120,0.28) 10% 12%);
  mix-blend-mode: screen;
  animation: boltSweep 2.4s infinite;
  opacity: 0.8;
  z-index: 1;
}
.gacha-overlay.theme-victor-ssj3::after {
  filter: drop-shadow(0 0 16px rgba(255, 230, 120, 0.45));
  animation-duration: 16s;
}

.gacha-overlay.theme-anas {
  background:
    radial-gradient(ellipse at 25% 70%, rgba(205, 185, 140, 0.28), transparent 55%),
    radial-gradient(ellipse at 72% 45%, rgba(180, 160, 120, 0.26), transparent 55%),
    linear-gradient(180deg, rgba(42, 36, 28, 0.8), rgba(16, 12, 10, 0.94)),
    radial-gradient(circle at 60% 18%, rgba(190, 210, 230, 0.08), transparent 55%);
}
.gacha-overlay.theme-anas::before {
  content: '';
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(ellipse at 18% 70%, rgba(240, 220, 170, 0.35) 0 20%, transparent 38%),
    radial-gradient(ellipse at 48% 55%, rgba(220, 200, 155, 0.32) 0 24%, transparent 42%),
    radial-gradient(ellipse at 78% 62%, rgba(210, 190, 150, 0.3) 0 18%, transparent 36%),
    repeating-linear-gradient(180deg, rgba(10, 8, 6, 0.6) 0 6%, transparent 6% 12%);
  filter: blur(0.5px);
  animation: islandFloat 9s ease-in-out infinite alternate;
  opacity: 0.8;
  z-index: 1;
}
.gacha-overlay.theme-anas::after {
  background-size: 150px 150px;
  animation-duration: 28s;
}

.gacha-overlay.theme-enzo {
  background:
    radial-gradient(circle at 30% 75%, rgba(90, 200, 255, 0.3), transparent 60%),
    radial-gradient(circle at 72% 28%, rgba(70, 150, 255, 0.26), transparent 60%),
    radial-gradient(circle at 55% 55%, rgba(255, 255, 255, 0.08) 0 3%, transparent 14%),
    linear-gradient(190deg, rgba(6, 26, 68, 0.9), rgba(2, 10, 28, 0.96));
  background-size: auto, auto, 110px 110px, auto;
  animation: bgBubbles 18s linear infinite;
}
.gacha-overlay.theme-enzo::before {
  content: '';
  position: absolute;
  inset: -15%;
  background:
    radial-gradient(circle, rgba(255,255,255,0.16) 2px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,0.12) 1.5px, transparent 1.5px),
    radial-gradient(circle at 60% 20%, rgba(140, 220, 255, 0.18), transparent 45%),
    linear-gradient(180deg, rgba(0, 50, 110, 0.5), transparent 70%);
  background-size: 70px 70px, 40px 40px, auto, auto;
  animation: bubbleRise 14s linear infinite, caustics 6s ease-in-out infinite;
  mix-blend-mode: screen;
  z-index: 1;
}
.gacha-overlay.theme-enzo::after {
  background-size: 100px 100px;
  animation-duration: 24s;
}

.gacha-overlay.theme-loic,
.gacha-overlay.theme-victor-lol {
  background:
    radial-gradient(circle at 40% 32%, rgba(120, 255, 180, 0.28), transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(70, 210, 160, 0.25), transparent 55%),
    repeating-linear-gradient(100deg, rgba(0, 255, 140, 0.16) 0 12%, transparent 12% 22%),
    linear-gradient(185deg, rgba(6, 34, 24, 0.92), rgba(2, 12, 8, 0.97));
  animation: bgFlow 8s linear infinite;
}
.gacha-overlay.theme-loic::before,
.gacha-overlay.theme-victor-lol::before {
  content: '';
  position: absolute;
  inset: -12% -8%;
  background:
    repeating-linear-gradient(90deg, rgba(0, 255, 140, 0.12) 0 8%, transparent 8% 16%),
    radial-gradient(circle at 20% 30%, rgba(0, 255, 160, 0.2), transparent 40%),
    radial-gradient(circle at 78% 60%, rgba(120, 255, 200, 0.18), transparent 45%);
  animation: toxicDrip 5s linear infinite;
  mix-blend-mode: screen;
  opacity: 0.9;
  z-index: 1;
}
.gacha-overlay.theme-loic::after,
.gacha-overlay.theme-victor-lol::after {
  filter: blur(0.4px) drop-shadow(0 0 12px rgba(0, 255, 170, 0.35));
}

.gacha-overlay.theme-gab {
  background:
    radial-gradient(circle at 55% 25%, rgba(210, 120, 255, 0.3), transparent 55%),
    radial-gradient(circle at 30% 70%, rgba(120, 40, 160, 0.28), transparent 60%),
    conic-gradient(from 45deg, rgba(160, 80, 255, 0.18), transparent 40%, rgba(230, 180, 255, 0.22), transparent 90%),
    linear-gradient(190deg, rgba(25, 6, 30, 0.9), rgba(6, 3, 12, 0.96));
  animation: psychWave 10s linear infinite, huePulse 8s ease-in-out infinite alternate;
}
.gacha-overlay.theme-gab::before {
  content: '';
  position: absolute;
  inset: -18%;
  background:
    radial-gradient(circle, rgba(255,255,255,0.16) 1.8px, transparent 1.8px),
    radial-gradient(circle, rgba(255,255,255,0.12) 1.2px, transparent 1.2px),
    radial-gradient(circle at 40% 40%, rgba(160, 255, 200, 0.18), transparent 45%);
  background-size: 46px 46px, 26px 26px, auto;
  mix-blend-mode: screen;
  animation: sporeDrift 12s ease-in-out infinite alternate;
  opacity: 0.85;
  z-index: 1;
}
.gacha-overlay.theme-gab::after {
  filter: blur(0.6px) drop-shadow(0 0 18px rgba(170, 120, 255, 0.45));
  animation-duration: 16s;
}

.gacha-overlay.theme-adam {
  background:
    radial-gradient(ellipse at 25% 70%, rgba(210, 175, 120, 0.28), transparent 60%),
    radial-gradient(ellipse at 68% 40%, rgba(175, 145, 95, 0.26), transparent 60%),
    radial-gradient(circle at 50% 20%, rgba(230, 210, 170, 0.12), transparent 60%),
    linear-gradient(185deg, rgba(38, 28, 20, 0.9), rgba(14, 10, 8, 0.96));
  animation: bgFlow 9s linear infinite;
}
.gacha-overlay.theme-adam::before {
  content: '';
  position: absolute;
  inset: -14% -10%;
  background:
    radial-gradient(circle, rgba(255,255,255,0.08) 1.2px, transparent 1.2px),
    radial-gradient(ellipse at 30% 65%, rgba(210, 180, 120, 0.28) 0 24%, transparent 42%),
    radial-gradient(ellipse at 70% 55%, rgba(190, 160, 110, 0.25) 0 22%, transparent 38%);
  animation: rockFloat 8s ease-in-out infinite alternate;
  mix-blend-mode: screen;
  opacity: 0.9;
  z-index: 1;
}
.gacha-overlay.theme-adam::after {
  background-size: 160px 160px;
  animation-duration: 20s;
  filter: drop-shadow(0 0 14px rgba(210, 175, 120, 0.35));
}

.gacha-panel {
  width: min(1280px, 96vw);
  height: min(820px, 92vh);
  background: rgba(7, 12, 20, 0.92);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 26px;
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.55);
  display: grid;
  grid-template-rows: auto 1fr;
  position: relative;
  overflow: hidden;
  min-height: 0;
}

.gacha-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: 0.85;
  background: radial-gradient(circle at 20% 20%, rgba(255, 200, 87, 0.12), transparent 40%),
    radial-gradient(circle at 80% 60%, rgba(24, 211, 197, 0.14), transparent 40%),
    linear-gradient(140deg, rgba(10, 16, 28, 0.9), rgba(5, 10, 18, 0.9));
  filter: saturate(1.05);
}

.gacha-bg::before,
.gacha-bg::after {
  content: '';
  position: absolute;
  inset: -10%;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.7;
}

.gacha-bg::after {
  background-image:
    radial-gradient(circle, rgba(255, 255, 255, 0.08) 1px, transparent 1px),
    radial-gradient(circle, rgba(255, 255, 255, 0.06) 0.8px, transparent 0.8px),
    radial-gradient(circle, rgba(255, 255, 255, 0.04) 0.6px, transparent 0.6px);
  background-size: 120px 120px, 80px 80px, 60px 60px;
  animation: starParallax 18s linear infinite, microPulse 2.8s ease-in-out infinite alternate, microJitter 5s ease-in-out infinite;
  opacity: 0.46;
}

.gacha-bg.theme-victor-ssj3 {
  background:
    radial-gradient(circle at 50% 30%, rgba(255, 225, 120, 0.35), transparent 55%),
    radial-gradient(circle at 30% 60%, rgba(255, 190, 90, 0.28), transparent 55%),
    repeating-linear-gradient(120deg, rgba(255, 255, 255, 0.15) 0 6%, transparent 6% 14%),
    linear-gradient(180deg, rgba(35, 20, 0, 0.65), rgba(8, 6, 10, 0.9));
  animation: bgLightning 2.8s infinite;
}
.gacha-bg.theme-victor-ssj3::before {
  background:
    conic-gradient(from 120deg, rgba(255, 255, 255, 0.35), transparent 35%, rgba(255, 220, 120, 0.45), transparent 70%),
    repeating-linear-gradient(115deg, transparent 0 10%, rgba(255, 255, 255, 0.2) 10% 12%);
  animation: arcSpin 3.2s linear infinite, lightningFlicker 1.8s infinite;
}

.gacha-bg.theme-anas {
  background:
    radial-gradient(ellipse at 25% 65%, rgba(200, 180, 130, 0.32), transparent 50%),
    radial-gradient(ellipse at 70% 45%, rgba(170, 150, 110, 0.28), transparent 55%),
    linear-gradient(180deg, rgba(42, 36, 28, 0.75), rgba(20, 16, 12, 0.92)),
    radial-gradient(circle at 60% 20%, rgba(180, 200, 220, 0.08), transparent 55%);
  background-blend-mode: screen, screen, normal, screen;
}
.gacha-bg.theme-anas::before {
  background:
    radial-gradient(ellipse at 18% 75%, rgba(240, 220, 170, 0.3) 0 25%, transparent 42%),
    radial-gradient(ellipse at 52% 62%, rgba(220, 200, 155, 0.26) 0 28%, transparent 46%),
    radial-gradient(ellipse at 82% 70%, rgba(210, 190, 150, 0.22) 0 22%, transparent 40%);
  animation: islandFloat 7s ease-in-out infinite alternate;
}

.gacha-bg.theme-enzo {
  background:
    radial-gradient(circle at 30% 70%, rgba(90, 200, 255, 0.28), transparent 55%),
    radial-gradient(circle at 70% 35%, rgba(70, 150, 255, 0.26), transparent 55%),
    radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.1) 0 2%, transparent 12%),
    linear-gradient(180deg, rgba(8, 32, 80, 0.85), rgba(4, 12, 28, 0.95));
  background-size: auto, auto, 90px 90px, auto;
  animation: bgBubbles 14s linear infinite;
}
.gacha-bg.theme-enzo::before {
  background:
    radial-gradient(circle, rgba(255,255,255,0.18) 2px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,0.12) 1.5px, transparent 1.5px),
    conic-gradient(from 0deg, rgba(120, 210, 255, 0.16), transparent 50%, rgba(90, 170, 255, 0.18), transparent 100%);
  background-size: 60px 60px, 36px 36px, 200% 200%;
  animation: bubbleRise 12s linear infinite, caustics 5s ease-in-out infinite, swirl 14s linear infinite;
  filter: blur(0.3px);
}

.gacha-bg.theme-loic,
.gacha-bg.theme-victor-lol {
  background:
    radial-gradient(circle at 40% 30%, rgba(120, 255, 180, 0.3), transparent 60%),
    radial-gradient(circle at 75% 65%, rgba(60, 190, 150, 0.28), transparent 55%),
    repeating-linear-gradient(100deg, rgba(0, 255, 140, 0.15) 0 12%, transparent 12% 22%),
    linear-gradient(180deg, rgba(4, 30, 22, 0.9), rgba(2, 12, 8, 0.95));
  animation: bgFlow 6s linear infinite;
}
.gacha-bg.theme-gab {
  background:
    radial-gradient(circle at 55% 25%, rgba(210, 120, 255, 0.32), transparent 55%),
    radial-gradient(circle at 28% 68%, rgba(120, 40, 180, 0.3), transparent 60%),
    conic-gradient(from 60deg, rgba(200, 140, 255, 0.25), transparent 45%, rgba(140, 80, 200, 0.18), transparent 90%),
    linear-gradient(180deg, rgba(26, 8, 30, 0.9), rgba(8, 4, 12, 0.94));
  animation: psychWave 9s linear infinite;
}
.gacha-bg.theme-gab::before {
  background:
    radial-gradient(circle, rgba(255,255,255,0.16) 1.6px, transparent 1.6px),
    radial-gradient(circle, rgba(255,255,255,0.12) 1px, transparent 1px),
    conic-gradient(from 0deg, rgba(120, 255, 200, 0.16), transparent 40%, rgba(190, 140, 255, 0.14), transparent 80%);
  background-size: 44px 44px, 28px 28px, 200% 200%;
  animation: sporeDrift 10s ease-in-out infinite alternate, swirl 16s linear infinite;
  filter: blur(0.3px);
}
.gacha-bg.theme-gab::after {
  background-image:
    radial-gradient(circle, rgba(255,255,255,0.09) 1px, transparent 1px),
    radial-gradient(circle, rgba(180, 120, 255, 0.14) 2px, transparent 2px);
  background-size: 36px 36px, 72px 72px;
  animation: microPulse 2s ease-in-out infinite alternate, sporeDrift 8s ease-in-out infinite, microJitter 4s linear infinite;
  opacity: 0.55;
}
.gacha-bg.theme-adam {
  background:
    radial-gradient(ellipse at 22% 70%, rgba(205, 175, 120, 0.32), transparent 60%),
    radial-gradient(ellipse at 70% 45%, rgba(180, 150, 105, 0.3), transparent 60%),
    radial-gradient(circle at 50% 25%, rgba(230, 210, 170, 0.12), transparent 60%),
    linear-gradient(185deg, rgba(38, 28, 20, 0.88), rgba(12, 9, 7, 0.95));
  animation: rockFloat 7s ease-in-out infinite alternate;
}
.gacha-bg.theme-adam::before {
  background:
    radial-gradient(circle, rgba(255,255,255,0.1) 1.2px, transparent 1.2px),
    radial-gradient(ellipse at 30% 60%, rgba(210, 185, 135, 0.28) 0 24%, transparent 40%),
    radial-gradient(ellipse at 70% 58%, rgba(190, 165, 120, 0.24) 0 22%, transparent 38%);
  animation: rockFloat 9s ease-in-out infinite alternate, swirl 20s linear infinite;
  filter: blur(0.4px);
}
.gacha-bg.theme-adam::after {
  background-image:
    radial-gradient(circle, rgba(255,255,255,0.08) 1px, transparent 1px),
    conic-gradient(from 90deg, rgba(215, 180, 120, 0.16), transparent 40%, rgba(150, 120, 80, 0.14), transparent 80%);
  background-size: 52px 52px, 160% 160%;
  animation: microPulse 2.6s ease-in-out infinite alternate, arcSpin 14s linear infinite, microJitter 5s ease-in-out infinite;
  opacity: 0.5;
}
.gacha-bg.theme-loic::before,
.gacha-bg.theme-victor-lol::before {
  background:
    conic-gradient(from 50deg, rgba(0, 255, 160, 0.24), transparent 40%, rgba(0, 190, 120, 0.18), transparent 100%),
    radial-gradient(circle at 80% 60%, rgba(100, 255, 200, 0.25), transparent 50%);
  animation: flowDown 5s linear infinite, arcSpin 8s linear infinite;
  filter: blur(0.4px);
}
.gacha-panel::after,
.gacha-panel::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 20% 20%, rgba(255, 200, 87, 0.12), transparent 40%);
  opacity: 0.8;
}
.gacha-panel::before {
  background: radial-gradient(circle at 80% 60%, rgba(24, 211, 197, 0.14), transparent 40%);
}

.gacha-head {
  position: relative;
  z-index: 2;
  padding: 20px 24px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
}

.head-actions { display: flex; gap: 8px; }

.gacha-head h2 { margin: 6px 0 2px; }

.gacha-body { position: relative; z-index: 2; height: 100%; min-height: 0; }
.gacha-body--list {
  padding: 16px 22px 24px;
  display: grid;
  grid-template-columns: 1fr;
}
.gacha-body--detail {
  padding: 16px 22px 24px;
  display: grid;
  min-height: 0;
  overflow-y: auto;
}

.banner-list {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 18px;
  padding: 12px;
  overflow-y: auto;
  display: grid;
  gap: 10px;
  grid-template-columns: 1fr;
  grid-auto-rows: minmax(260px, auto);
}

.banner-card {
  width: 100%;
  border: 1px solid rgba(255, 255, 255, 0.07);
  border-radius: 16px;
  background: linear-gradient(120deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
  color: var(--text);
  display: grid;
  grid-template-columns: 240px 1fr;
  gap: 10px;
  padding: 10px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform 140ms ease, border-color 140ms ease, box-shadow 140ms ease;
}

.banner-card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(130deg, transparent 0%, rgba(255, 255, 255, 0.05) 50%, transparent 100%);
  opacity: 0;
  transition: opacity 140ms ease;
}

.banner-card.theme-victor-ssj3::before,
.banner-card.theme-anas::before,
.banner-card.theme-enzo::before,
.banner-card.theme-loic::before,
.banner-card.theme-victor-lol::before {
  content: '';
  position: absolute;
  inset: -10%;
  z-index: 0;
}

.banner-card.theme-victor-ssj3::before {
  background: radial-gradient(circle at 50% 30%, rgba(255, 216, 80, 0.35), transparent 60%),
    radial-gradient(circle at 20% 80%, rgba(255, 140, 0, 0.18), transparent 55%);
  filter: blur(4px);
}

.banner-card.theme-anas::before {
  background: linear-gradient(145deg, rgba(70, 67, 60, 0.55), rgba(34, 32, 28, 0.6)),
    radial-gradient(circle at 20% 30%, rgba(120, 110, 90, 0.35), transparent 45%);
  mix-blend-mode: screen;
}

.banner-card.theme-enzo::before {
  background: radial-gradient(circle at 30% 20%, rgba(79, 197, 255, 0.35), transparent 60%),
    radial-gradient(circle at 70% 60%, rgba(47, 122, 255, 0.3), transparent 60%);
  animation: bubbleDrift 6s ease-in-out infinite;
}

.banner-card.theme-loic::before,
.banner-card.theme-victor-lol::before {
  background: radial-gradient(circle at 50% 50%, rgba(80, 255, 180, 0.35), transparent 65%),
    linear-gradient(120deg, rgba(0, 255, 128, 0.22), rgba(0, 200, 140, 0.12));
  filter: blur(3px);
}

.banner-card:hover {
  transform: translateY(-2px);
  border-color: rgba(255, 255, 255, 0.16);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.35);
}
.banner-card:hover::after { opacity: 1; }

.banner-card.is-selected {
  border-color: var(--accent);
  box-shadow: 0 0 0 1px var(--accent), 0 16px 40px rgba(0, 0, 0, 0.45);
}

.banner-card__image {
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 12px;
  background-size: cover;
  background-position: center;
  position: relative;
  overflow: hidden;
}

.banner-card__meta { text-align: left; display: grid; gap: 4px; align-content: center; }
.banner-card__title { font-weight: 700; letter-spacing: -0.2px; font-size: 1.4rem; }
.banner-card__line { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; color: var(--muted); }
.banner-card__date { color: var(--muted); font-size: 12px; }

.banner-details {
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
  padding: 16px;
  display: grid;
  grid-template-columns: 1fr 1.1fr;
  gap: 16px;
  height: 100%;
  min-height: 0;
}

.banner-details.theme-victor-ssj3 {
  background: radial-gradient(circle at 50% 20%, rgba(255, 215, 80, 0.15), transparent 55%),
    linear-gradient(180deg, rgba(255, 175, 0, 0.12), rgba(20, 10, 0, 0.4));
  box-shadow: 0 0 0 1px rgba(255, 190, 90, 0.35), 0 30px 80px rgba(0, 0, 0, 0.55);
}

.banner-details.theme-anas {
  background: linear-gradient(135deg, rgba(90, 78, 60, 0.5), rgba(35, 30, 25, 0.7)),
    radial-gradient(circle at 30% 30%, rgba(130, 110, 85, 0.35), transparent 50%);
  box-shadow: 0 0 0 1px rgba(140, 120, 90, 0.3), 0 30px 80px rgba(0, 0, 0, 0.6);
}

.banner-details.theme-enzo {
  background: radial-gradient(circle at 50% 20%, rgba(90, 200, 255, 0.25), transparent 60%),
    linear-gradient(180deg, rgba(20, 60, 120, 0.55), rgba(10, 25, 60, 0.8));
  box-shadow: 0 0 0 1px rgba(90, 190, 255, 0.3), 0 30px 80px rgba(0, 0, 0, 0.6);
  position: relative;
  overflow: hidden;
}
.banner-details.theme-enzo::after {
  content: '';
  position: absolute;
  inset: -10% -20%;
  background-image: radial-gradient(circle, rgba(255, 255, 255, 0.14) 2px, transparent 2px);
  background-size: 48px 48px;
  animation: bubbleRise 10s linear infinite;
  opacity: 0.7;
  pointer-events: none;
}

.banner-details.theme-loic,
.banner-details.theme-victor-lol {
  background: radial-gradient(circle at 40% 30%, rgba(80, 255, 170, 0.2), transparent 55%),
    linear-gradient(160deg, rgba(0, 255, 128, 0.16), rgba(0, 120, 90, 0.55));
  box-shadow: 0 0 0 1px rgba(80, 255, 170, 0.25), 0 30px 80px rgba(0, 0, 0, 0.55);
}

@keyframes bubbleDrift {
  0% { transform: translate3d(0, 0, 0); opacity: 0.9; }
  50% { transform: translate3d(0, -6px, 0); opacity: 1; }
  100% { transform: translate3d(0, 0, 0); opacity: 0.9; }
}

@keyframes bubbleRise {
  0% { transform: translateY(0); }
  100% { transform: translateY(-120px); }
}

@keyframes starParallax {
  0% { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(-80px, -30px, 0); }
}

@keyframes boltSweep {
  0% { transform: translateX(-8%); }
  100% { transform: translateX(6%); }
}

@keyframes islandFloat {
  0% { transform: translateY(0); }
  100% { transform: translateY(-12px); }
}

@keyframes caustics {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.25); }
}

@keyframes toxicDrip {
  0% { background-position: 0 0, 0 0, 0 0; }
  100% { background-position: 0 120px, 0 0, 0 0; }
}

@keyframes lightningFlicker {
  0%, 25%, 60%, 100% { opacity: 0.65; }
  15% { opacity: 1; }
  45% { opacity: 0.2; }
  75% { opacity: 0.9; }
}

@keyframes flowDown {
  0% { background-position: 0 0, 0 0, 0 0; }
  100% { background-position: 0 60%, 0 40px, 0 60px; }
}

@keyframes bgLightning {
  0%, 50%, 100% { filter: brightness(1); }
  20% { filter: brightness(1.25); }
  70% { filter: brightness(1.4); }
}

@keyframes bgBubbles {
  0% { background-position: 0 0, 0 0, 0 0, 0 0; }
  100% { background-position: 0 0, 0 0, 0 -140px, 0 0; }
}

@keyframes bgFlow {
  0% { background-position: 0 0, 0 0, 0 0, 0 0; }
  100% { background-position: 0 0, 0 0, 140px 0, 0 0; }
}

@keyframes arcSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes swirl {
  0% { transform: rotate(0deg) scale(1); }
  100% { transform: rotate(360deg) scale(1.05); }
}

@keyframes huePulse {
  0% { filter: hue-rotate(0deg) saturate(1); }
  50% { filter: hue-rotate(12deg) saturate(1.1); }
  100% { filter: hue-rotate(-8deg) saturate(1.15); }
}

@keyframes scanLines {
  0% { transform: translateY(0); }
  100% { transform: translateY(-12px); }
}

@keyframes psychWave {
  0% { background-position: 0 0, 0 0, 0 0, 0 0; }
  50% { background-position: 10px -10px, -8px 12px, 20px -14px, 0 0; }
  100% { background-position: -12px 14px, 14px -12px, -18px 10px, 0 0; }
}

@keyframes sporeDrift {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(8px,-10px,0) scale(1.04); }
  100% { transform: translate3d(-6px,12px,0) scale(0.98); }
}

@keyframes rockFloat {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-10px) rotate(2deg); }
  100% { transform: translateY(8px) rotate(-2deg); }
}

@keyframes microPulse {
  0% { opacity: 0.3; transform: scale(0.98); }
  50% { opacity: 0.75; transform: scale(1.04); }
  100% { opacity: 0.3; transform: scale(0.99); }
}

@keyframes microJitter {
  0% { transform: translate3d(0,0,0); }
  25% { transform: translate3d(2px,-2px,0); }
  50% { transform: translate3d(-1px,1px,0); }
  75% { transform: translate3d(1px,2px,0); }
  100% { transform: translate3d(0,0,0); }
}

@keyframes grainPulse {
  0% { filter: contrast(1) brightness(1); }
  50% { filter: contrast(1.06) brightness(1.05); }
  100% { filter: contrast(1) brightness(0.98); }
}

.details-visual {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.06);
  display: grid;
  gap: 12px;
}

.details-image {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-size: cover;
  background-position: center;
}

.details-tags {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  padding: 0 12px 12px;
}

.details-copy { display: grid; gap: 12px; align-content: start; }

.details-topline { display: flex; justify-content: space-between; gap: 12px; align-items: flex-start; }

.tagline-chip {
  padding: 8px 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.08);
  font-weight: 600;
}

.details-desc { margin: 0; color: var(--muted); line-height: 1.5; }

.featured-row { display: flex; gap: 8px; flex-wrap: wrap; }

.drop-rates { display: grid; gap: 6px; }

.rate-bars { display: grid; gap: 6px; }

.rate-bar { display: grid; grid-template-columns: 110px 1fr 60px; gap: 8px; align-items: center; }

.rate-label { color: var(--muted); font-weight: 600; }

.rate-track {
  width: 100%;
  height: 10px;
  background: rgba(255, 255, 255, 0.06);
  border-radius: 999px;
  overflow: hidden;
}

.rate-fill {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--accent), rgba(255, 200, 87, 0.9));
}

.rate-value { font-weight: 700; }

.pull-row { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; margin-top: 4px; }

@media (max-width: 1100px) {
  .gacha-body { grid-template-columns: 1fr; }
  .banner-details { grid-template-columns: 1fr; }
  .details-image { height: 260px; }
  .gacha-head { flex-direction: column; align-items: flex-start; }
}

/* ============================================================
   FX LAYER — themed special effects overlays
   ============================================================ */

.fx-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
  border-radius: 20px;
}

/* ---- VICTOR SSJ3 — Super Saiyan Lightning ---- */

.fx-victor-ssj3 {
  background:
    radial-gradient(circle at 50% 30%, rgba(255, 225, 80, 0.25), transparent 50%);
  animation: ssjAuraFlicker 0.12s infinite alternate;
}
.fx-victor-ssj3::before {
  content: '';
  position: absolute;
  inset: -30%;
  background:
    /* main bolt 1 */
    linear-gradient(172deg, transparent 48.5%, rgba(255, 255, 255, 0.95) 49%, rgba(255, 230, 80, 0.9) 49.3%, transparent 49.6%),
    /* main bolt 2 */
    linear-gradient(195deg, transparent 44%, rgba(255, 255, 255, 0.85) 44.3%, rgba(255, 220, 60, 0.8) 44.6%, transparent 44.9%),
    /* bolt 3 */
    linear-gradient(158deg, transparent 52%, rgba(255, 255, 255, 0.7) 52.2%, rgba(255, 200, 50, 0.7) 52.5%, transparent 52.8%),
    /* bolt 4 */
    linear-gradient(210deg, transparent 40%, rgba(255, 255, 200, 0.6) 40.2%, rgba(255, 240, 100, 0.5) 40.5%, transparent 40.8%),
    /* bolt 5 */
    linear-gradient(135deg, transparent 55%, rgba(255, 255, 255, 0.55) 55.15%, rgba(255, 210, 70, 0.5) 55.4%, transparent 55.6%),
    /* bolt 6 */
    linear-gradient(185deg, transparent 46%, rgba(255, 255, 240, 0.5) 46.1%, rgba(255, 255, 120, 0.4) 46.35%, transparent 46.5%);
  animation: ssjBolts 0.18s steps(2) infinite, ssjBoltShift 1.2s ease-in-out infinite alternate;
  mix-blend-mode: screen;
  filter: blur(0.3px);
}
.fx-victor-ssj3::after {
  content: '';
  position: absolute;
  inset: -20%;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 220, 80, 0.5) 0%, transparent 45%),
    radial-gradient(circle at 30% 40%, rgba(255, 180, 40, 0.3) 0%, transparent 35%),
    radial-gradient(circle at 70% 35%, rgba(255, 200, 60, 0.25) 0%, transparent 30%),
    conic-gradient(from 0deg at 50% 50%, rgba(255, 255, 200, 0.2), transparent 20%, rgba(255, 220, 80, 0.15), transparent 45%, rgba(255, 255, 180, 0.2), transparent 70%);
  animation: ssjAuraPulse 1.5s ease-in-out infinite alternate;
  mix-blend-mode: screen;
}

/* SSJ energy sparks via box-shadow */
.banner-details.theme-victor-ssj3 {
  overflow: hidden;
}
.banner-details.theme-victor-ssj3::before {
  content: '';
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #ffe850;
  box-shadow:
    20px -30px 6px #ffe850,
    -40px 10px 4px #ffcc30,
    60px -50px 5px #fff4a0,
    -20px -60px 3px #ffd040,
    80px 20px 4px #ffe060,
    -60px -20px 6px #ffe850,
    30px 40px 3px #ffcc30,
    -50px 50px 5px #fff4a0,
    70px -10px 4px #ffd040,
    -30px 30px 4px #ffe060,
    10px -80px 3px #fff4a0,
    50px 60px 6px #ffd040,
    -70px -40px 5px #ffe850,
    90px 50px 3px #ffcc30,
    -80px 70px 4px #ffe060;
  animation: sparkFloat 2s ease-in-out infinite alternate;
  z-index: 2;
  top: 50%;
  left: 50%;
}

@keyframes ssjAuraFlicker {
  0% { opacity: 0.75; }
  100% { opacity: 1; }
}
@keyframes ssjBolts {
  0% { opacity: 0.9; }
  50% { opacity: 0.3; }
  100% { opacity: 1; }
}
@keyframes ssjBoltShift {
  0% { transform: translate(-3%, -2%) rotate(-1deg); }
  33% { transform: translate(2%, 1%) rotate(0.5deg); }
  66% { transform: translate(-1%, 3%) rotate(-0.5deg); }
  100% { transform: translate(3%, -1%) rotate(1deg); }
}
@keyframes ssjAuraPulse {
  0% { transform: scale(1); opacity: 0.7; filter: hue-rotate(0deg); }
  50% { transform: scale(1.08); opacity: 1; filter: hue-rotate(8deg); }
  100% { transform: scale(0.96); opacity: 0.8; filter: hue-rotate(-5deg); }
}
@keyframes sparkFloat {
  0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
  50% { transform: translate(-50%, -55%) scale(1.3); opacity: 0.7; }
  100% { transform: translate(-50%, -48%) scale(0.9); opacity: 1; }
}

/* ---- ANAS — Floating Mountains / Martial Arts ---- */

.fx-anas {
  background:
    /* distant mountain range */
    linear-gradient(170deg, transparent 58%, rgba(140, 120, 80, 0.25) 59%, rgba(100, 85, 55, 0.35) 62%, rgba(80, 70, 50, 0.3) 66%, transparent 67%),
    /* floating peak left */
    radial-gradient(ellipse at 15% 55%, rgba(160, 140, 100, 0.4) 0 12%, transparent 15%),
    /* floating peak right */
    radial-gradient(ellipse at 80% 45%, rgba(150, 130, 90, 0.35) 0 10%, transparent 13%),
    /* floating rock center */
    radial-gradient(ellipse at 50% 65%, rgba(180, 155, 110, 0.3) 0 8%, transparent 11%),
    /* high mist */
    radial-gradient(ellipse at 50% 20%, rgba(200, 190, 170, 0.12), transparent 60%);
  animation: mountainFloat 6s ease-in-out infinite alternate;
}
.fx-anas::before {
  content: '';
  position: absolute;
  inset: -20%;
  background:
    /* cloud wisps */
    radial-gradient(ellipse at 20% 35%, rgba(255, 255, 255, 0.08) 0 30%, transparent 40%),
    radial-gradient(ellipse at 70% 25%, rgba(255, 255, 255, 0.06) 0 25%, transparent 35%),
    radial-gradient(ellipse at 45% 50%, rgba(255, 255, 255, 0.05) 0 20%, transparent 30%),
    /* chi energy trails */
    conic-gradient(from 180deg at 50% 50%, rgba(180, 160, 120, 0.15), transparent 30%, rgba(150, 130, 90, 0.1), transparent 60%);
  animation: cloudDrift 12s ease-in-out infinite alternate, chiSpin 18s linear infinite;
  mix-blend-mode: screen;
}
.fx-anas::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    /* falling leaf particles */
    radial-gradient(circle, rgba(200, 180, 140, 0.6) 1px, transparent 1.5px),
    radial-gradient(circle, rgba(180, 160, 110, 0.5) 0.8px, transparent 1.2px);
  background-size: 80px 90px, 55px 65px;
  background-position: 0 0, 30px 20px;
  animation: leafFall 8s linear infinite;
  opacity: 0.5;
}

/* ---- ADAM — Floating Mountains / Martial Arts ---- */

.fx-adam {
  background:
    /* large floating island silhouette */
    linear-gradient(175deg, transparent 50%, rgba(180, 155, 110, 0.3) 52%, rgba(140, 120, 80, 0.4) 56%, rgba(120, 100, 70, 0.3) 60%, transparent 62%),
    /* floating rock 1 */
    radial-gradient(ellipse at 25% 40%, rgba(200, 170, 120, 0.45) 0 10%, transparent 14%),
    /* floating rock 2 */
    radial-gradient(ellipse at 72% 55%, rgba(190, 160, 110, 0.4) 0 8%, transparent 12%),
    /* floating rock 3 */
    radial-gradient(ellipse at 55% 30%, rgba(170, 150, 100, 0.3) 0 6%, transparent 9%),
    /* temple glow top */
    radial-gradient(circle at 50% 15%, rgba(230, 210, 170, 0.15), transparent 45%);
  animation: rockLevitate 5s ease-in-out infinite alternate;
}
.fx-adam::before {
  content: '';
  position: absolute;
  inset: -15%;
  background:
    /* ki energy rings */
    conic-gradient(from 0deg at 50% 50%, rgba(210, 180, 120, 0.2), transparent 25%, rgba(180, 150, 95, 0.15), transparent 50%, rgba(220, 190, 130, 0.2), transparent 75%),
    /* cloud layer */
    radial-gradient(ellipse at 30% 70%, rgba(255, 255, 255, 0.07) 0 35%, transparent 45%),
    radial-gradient(ellipse at 65% 60%, rgba(255, 255, 255, 0.06) 0 30%, transparent 40%);
  animation: chiSpin 14s linear infinite;
  mix-blend-mode: screen;
}
.fx-adam::after {
  content: '';
  position: absolute;
  inset: 0;
  /* pebble/debris particles floating */
  background:
    radial-gradient(circle, rgba(210, 180, 120, 0.7) 1.5px, transparent 2px),
    radial-gradient(circle, rgba(180, 155, 100, 0.5) 1px, transparent 1.5px),
    radial-gradient(circle, rgba(200, 170, 115, 0.6) 1.2px, transparent 1.8px);
  background-size: 70px 85px, 50px 60px, 90px 100px;
  background-position: 10px 0, 35px 25px, 60px 15px;
  animation: debrisFloat 6s ease-in-out infinite alternate, leafFall 10s linear infinite;
  opacity: 0.6;
}

@keyframes mountainFloat {
  0% { transform: translateY(0); }
  100% { transform: translateY(-8px); }
}
@keyframes cloudDrift {
  0% { transform: translateX(0) translateY(0); }
  100% { transform: translateX(12px) translateY(-6px); }
}
@keyframes chiSpin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
@keyframes leafFall {
  0% { background-position: 0 0, 30px 20px; }
  100% { background-position: 20px 120px, 50px 140px; }
}
@keyframes rockLevitate {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-10px) rotate(1deg); }
  100% { transform: translateY(5px) rotate(-1deg); }
}
@keyframes debrisFloat {
  0% { transform: translateY(0); opacity: 0.6; }
  100% { transform: translateY(-15px); opacity: 0.4; }
}

/* ---- ENZO — Ocean / Deep Sea ---- */

.fx-enzo {
  background:
    /* surface light rays */
    linear-gradient(175deg, rgba(100, 200, 255, 0.15) 0%, transparent 30%),
    linear-gradient(165deg, rgba(80, 180, 255, 0.1) 0%, transparent 25%),
    linear-gradient(185deg, rgba(60, 160, 255, 0.08) 0%, transparent 20%),
    /* deep water gradient */
    linear-gradient(180deg, rgba(30, 100, 180, 0.2), rgba(5, 20, 60, 0.15));
  animation: waterSway 4s ease-in-out infinite alternate;
}
.fx-enzo::before {
  content: '';
  position: absolute;
  inset: -20%;
  background:
    /* wave pattern 1 */
    repeating-linear-gradient(95deg, transparent 0%, rgba(100, 200, 255, 0.06) 10%, transparent 20%),
    /* wave pattern 2 */
    repeating-linear-gradient(85deg, transparent 0%, rgba(80, 180, 255, 0.05) 8%, transparent 16%),
    /* caustic light */
    conic-gradient(from 0deg at 40% 30%, rgba(120, 220, 255, 0.15), transparent 30%, rgba(80, 190, 255, 0.12), transparent 60%),
    conic-gradient(from 120deg at 60% 70%, rgba(100, 210, 255, 0.12), transparent 25%, rgba(70, 170, 255, 0.1), transparent 55%);
  animation: waveDrift 6s ease-in-out infinite alternate, swirl 20s linear infinite;
  mix-blend-mode: screen;
}
.fx-enzo::after {
  content: '';
  position: absolute;
  inset: -10%;
  /* bubbles */
  background:
    radial-gradient(circle, rgba(255, 255, 255, 0.3) 2px, transparent 2.5px),
    radial-gradient(circle, rgba(200, 230, 255, 0.25) 1.5px, transparent 2px),
    radial-gradient(circle, rgba(180, 220, 255, 0.2) 1.8px, transparent 2.3px),
    radial-gradient(circle, rgba(255, 255, 255, 0.15) 1px, transparent 1.5px),
    radial-gradient(circle, rgba(160, 210, 255, 0.2) 2.2px, transparent 2.8px);
  background-size: 60px 70px, 45px 55px, 80px 85px, 35px 40px, 95px 100px;
  background-position: 0 0, 20px 15px, 50px 30px, 10px 45px, 70px 10px;
  animation: bubbleRiseDeep 7s linear infinite;
  opacity: 0.8;
}

/* Ocean foam on the banner card */
.banner-card.theme-enzo::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, transparent 60%, rgba(100, 200, 255, 0.08) 80%, rgba(60, 160, 255, 0.12) 100%);
  animation: waterSway 3s ease-in-out infinite alternate;
  pointer-events: none;
}

@keyframes waterSway {
  0% { transform: translateX(0) skewX(0deg); }
  100% { transform: translateX(4px) skewX(0.5deg); }
}
@keyframes waveDrift {
  0% { transform: translateX(-5px) translateY(0); }
  100% { transform: translateX(5px) translateY(-3px); }
}
@keyframes bubbleRiseDeep {
  0% { transform: translateY(0); opacity: 0.8; }
  100% { transform: translateY(-150px); opacity: 0.2; }
}

/* ---- LOIC & VICTOR — Chemical / Factory ---- */

.fx-loic,
.fx-victor-lol {
  background:
    /* toxic glow */
    radial-gradient(circle at 50% 80%, rgba(0, 255, 140, 0.2), transparent 50%),
    /* barrel/container shapes */
    linear-gradient(180deg, transparent 70%, rgba(40, 40, 40, 0.4) 72%, rgba(60, 60, 60, 0.5) 76%, rgba(40, 40, 40, 0.4) 80%, transparent 82%),
    /* secondary barrel */
    linear-gradient(180deg, transparent 65%, rgba(50, 50, 50, 0.3) 67%, rgba(70, 70, 70, 0.4) 70%, rgba(50, 50, 50, 0.3) 73%, transparent 75%),
    /* factory smoke stack silhouette */
    linear-gradient(90deg, transparent 80%, rgba(30, 30, 30, 0.4) 82%, rgba(40, 40, 40, 0.5) 86%, rgba(30, 30, 30, 0.4) 88%, transparent 90%),
    /* warning stripe */
    repeating-linear-gradient(45deg, rgba(255, 200, 0, 0.08) 0 8px, rgba(40, 40, 0, 0.06) 8px 16px);
  animation: factoryPulse 3s ease-in-out infinite;
}
.fx-loic::before,
.fx-victor-lol::before {
  content: '';
  position: absolute;
  inset: -20%;
  background:
    /* toxic smoke plumes */
    radial-gradient(ellipse at 85% 20%, rgba(0, 255, 150, 0.18) 0 20%, transparent 35%),
    radial-gradient(ellipse at 82% 35%, rgba(0, 230, 130, 0.14) 0 25%, transparent 40%),
    radial-gradient(ellipse at 88% 50%, rgba(0, 200, 120, 0.1) 0 30%, transparent 45%),
    /* dripping liquid */
    repeating-linear-gradient(180deg, transparent 0 85%, rgba(0, 255, 140, 0.15) 86%, rgba(0, 200, 100, 0.2) 88%, transparent 90%),
    /* biohazard glow */
    conic-gradient(from 60deg at 50% 50%, rgba(0, 255, 160, 0.12), transparent 33%, rgba(0, 210, 130, 0.1), transparent 66%);
  animation: smokeRise 5s ease-in-out infinite, chiSpin 12s linear infinite;
  mix-blend-mode: screen;
}
.fx-loic::after,
.fx-victor-lol::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    /* toxic droplets */
    radial-gradient(circle, rgba(0, 255, 140, 0.7) 1.5px, transparent 2px),
    radial-gradient(circle, rgba(0, 200, 100, 0.5) 1px, transparent 1.5px),
    radial-gradient(circle, rgba(80, 255, 180, 0.6) 1.2px, transparent 1.8px);
  background-size: 65px 75px, 45px 55px, 85px 90px;
  animation: toxicDripFx 4s linear infinite;
  opacity: 0.6;
}

/* toxic glow on banner card */
.banner-card.theme-loic::after,
.banner-card.theme-victor-lol::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: linear-gradient(180deg, transparent, rgba(0, 255, 140, 0.06));
  pointer-events: none;
}

@keyframes factoryPulse {
  0%, 100% { filter: brightness(1) drop-shadow(0 0 8px rgba(0, 255, 140, 0.2)); }
  50% { filter: brightness(1.15) drop-shadow(0 0 16px rgba(0, 255, 140, 0.4)); }
}
@keyframes smokeRise {
  0% { transform: translateY(0); opacity: 0.8; }
  50% { transform: translateY(-12px); opacity: 0.6; }
  100% { transform: translateY(0); opacity: 0.8; }
}
@keyframes toxicDripFx {
  0% { background-position: 0 0, 20px 10px, 40px 5px; }
  100% { background-position: 0 100px, 20px 110px, 40px 105px; }
}

/* ---- GAB — Mushroom / Violet Hallucination ---- */

.fx-gab {
  background:
    /* mushroom cap shapes */
    radial-gradient(ellipse at 20% 70%, rgba(180, 80, 255, 0.3) 0 8%, rgba(120, 40, 200, 0.15) 10%, transparent 14%),
    radial-gradient(ellipse at 75% 65%, rgba(200, 100, 255, 0.25) 0 6%, rgba(140, 50, 220, 0.12) 8%, transparent 12%),
    radial-gradient(ellipse at 45% 80%, rgba(160, 60, 240, 0.2) 0 5%, rgba(100, 30, 180, 0.1) 7%, transparent 10%),
    /* stem shapes */
    linear-gradient(180deg, transparent 70%, rgba(160, 120, 200, 0.15) 72%, rgba(140, 100, 180, 0.2) 78%, rgba(120, 80, 160, 0.15) 82%, transparent 84%),
    /* psychedelic rainbow spiral */
    conic-gradient(from 0deg at 50% 50%, rgba(255, 100, 200, 0.1), rgba(100, 200, 255, 0.08), rgba(100, 255, 150, 0.08), rgba(255, 200, 100, 0.08), rgba(255, 100, 200, 0.1));
  animation: psyPulse 4s ease-in-out infinite alternate;
}
.fx-gab::before {
  content: '';
  position: absolute;
  inset: -25%;
  background:
    /* spore particles - large */
    radial-gradient(circle, rgba(200, 140, 255, 0.6) 2px, transparent 2.5px),
    radial-gradient(circle, rgba(160, 100, 240, 0.5) 1.5px, transparent 2px),
    radial-gradient(circle, rgba(220, 160, 255, 0.4) 2.5px, transparent 3px),
    /* trippy rings */
    conic-gradient(from 45deg at 35% 40%, rgba(180, 100, 255, 0.15), transparent 20%, rgba(120, 200, 160, 0.1), transparent 45%),
    conic-gradient(from 200deg at 65% 60%, rgba(255, 120, 200, 0.12), transparent 18%, rgba(100, 180, 255, 0.08), transparent 40%);
  background-size: 56px 62px, 38px 44px, 72px 78px, auto, auto;
  animation: sporeDriftFx 8s ease-in-out infinite alternate, swirl 24s linear infinite;
  mix-blend-mode: screen;
  opacity: 0.9;
}
.fx-gab::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    /* hallucinatory color waves */
    linear-gradient(120deg, rgba(255, 80, 200, 0.08), rgba(80, 200, 255, 0.08), rgba(120, 255, 160, 0.08), rgba(255, 200, 80, 0.08));
  background-size: 300% 300%;
  animation: hallucinate 5s ease-in-out infinite;
  mix-blend-mode: color-dodge;
  opacity: 0.6;
}

/* Hallucination hue shift on banner card */
.banner-card.theme-gab::before {
  content: '';
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(circle at 40% 40%, rgba(180, 80, 255, 0.35), transparent 55%),
    radial-gradient(circle at 70% 60%, rgba(120, 40, 200, 0.25), transparent 50%);
  animation: psyPulse 3s ease-in-out infinite alternate;
  z-index: 0;
}

@keyframes psyPulse {
  0% { filter: hue-rotate(0deg) brightness(1); transform: scale(1); }
  50% { filter: hue-rotate(25deg) brightness(1.15); transform: scale(1.02); }
  100% { filter: hue-rotate(-15deg) brightness(1.05); transform: scale(0.98); }
}
@keyframes sporeDriftFx {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(10px, -12px, 0) scale(1.05); }
  100% { transform: translate3d(-8px, 14px, 0) scale(0.97); }
}
@keyframes hallucinate {
  0% { background-position: 0% 50%; filter: hue-rotate(0deg); }
  25% { background-position: 50% 0%; filter: hue-rotate(30deg); }
  50% { background-position: 100% 50%; filter: hue-rotate(60deg); }
  75% { background-position: 50% 100%; filter: hue-rotate(90deg); }
  100% { background-position: 0% 50%; filter: hue-rotate(0deg); }
}

/* ============================================================
   Enhanced banner-details per theme (position relative needed)
   ============================================================ */

.banner-details {
  position: relative;
  overflow: hidden;
}
